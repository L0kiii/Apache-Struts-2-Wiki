;
/* module-key = 'jira.plugin.projectspecificselectfield.jpssf:js', location = 'statistics_panel/statistics.js' */
function ajaxStatistics(a,b,e){var f=20;var c=AJS.contextPath()+"/rest/projectspecificselectfield/1.0/statistics/"+a+"/"+b;var d=AJS.contextPath()+"/secure/IssueNavigator.jspa?reset=true&jqlQuery=";AJS.$("#"+b).append(AJS.$("<p>").attr("id","loading_"+b).append(AJS.$("<span>").addClass("aui-icon").addClass("aui-icon-wait").text("Loading...")));AJS.$.ajax({url:c,dataType:"json",timeout:180000,success:function(h){AJS.$("#"+b).append(AJS.$("<table>").addClass("aui").append(AJS.$("<thead>").append(AJS.$("<tr>").append(AJS.$("<th>").text("Value")))).append(AJS.$("<tbody>")));if(h.countnone>=0){AJS.$("#"+b+" > table > thead > tr:last").append(AJS.$("<th>").text("Issues")).append(AJS.$("<th>").text("Percentage"))}if(h.countnone!=0){AJS.$("#"+b+" > table > tbody").append(AJS.$("<tr>").attr("id","option_null").append(AJS.$("<td>").append(AJS.$("<a>").attr("href",d+h.jqlnone).text("None"))))}if(h.countnone>0){AJS.$("#"+b+" > table > tbody > tr#option_null").append(AJS.$("<td>").text(h.countnone)).append(AJS.$("<td>").attr("id","percentage_null"));percentageTable("#"+b+" > table > tbody > tr > td#percentage_null",h.percentagenone,false)}var g;for(g=0;g<h.options.length;g++){AJS.$("#"+b+" > table > tbody").append(AJS.$("<tr>").attr("id","option_"+g).css("display",(g>=f)?"none":"").addClass((g>=f)?"more":"").append(AJS.$("<td>").append(AJS.$("<a>").attr("href",d+h.options[g].jql).css("color",(h.options[g].disabled)?"#bbb":"").text(h.options[g].value))));if(h.options[g].count>=0){AJS.$("#"+b+" > table > tbody > tr#option_"+g).append(AJS.$("<td>").text(h.options[g].count)).append(AJS.$("<td>").attr("id","percentage_"+g));if(h.options[g].count>0){percentageTable("#"+b+" > table > tbody > tr > td#percentage_"+g,h.options[g].percentage,h.options[g].disabled)}}}if(g>f){AJS.$("#"+b).append(AJS.$("<p>").attr("id","showmore_"+b).addClass("more").append(AJS.$("<a>").attr("href","#").text(AJS.format("...and {0} more",g-f)).click(function(){AJS.$("#"+b+" .more").toggle();return false})))}},error:function(i,g,h){AJS.messages.error("#"+b,{body:"Error occurred communicating with the server. Please reload the page and try again.",insert:"prepend"})},complete:function(h,g){AJS.$("#loading_"+b).remove()}})}function percentageTable(a,b,c){AJS.$(a).append(AJS.$("<table>").attr("width","100%").attr("cellspacing",0).attr("cellpadding",0).attr("border",0).append(AJS.$("<tbody>").append(AJS.$("<tr>").append(AJS.$("<td>").addClass("colour-bar-cont").css("width",((b=="0%")?"1%":b)).attr("valign","center").append(AJS.$("<div>").addClass("colour-bar").css("border-top-color",(c)?"#BBB":"#0052CC"))).append(AJS.$("<td>").css("width","95%").text("   "+((b=="0%")?"<1%":b))))))};;